<!--pages/admin/reservationDetail/reservationDetail.wxml-->
 <navigation-bar title="预约详情" back="{{true}}" color="black" background="#FFF"></navigation-bar>
<view class="container">
  <!-- 日期选择器 -->
  <picker mode="date" value="{{date}}" start="2020-01-01" end="2030-12-31" bindchange="onDateChange">
    <view class="date-picker">当前日期：{{date}}</view>
  </picker>

  <!-- 统计数据列表 -->
  <view wx:if="{{!loading && statistics.length > 0}}">
    <view wx:for="{{statistics}}" wx:key="schedule_id" class="stat-item">
      <view class="route-info">
        <text>{{item.route_name}}</text>
        <text>{{item.departure_time}}</text>
      </view>
      <view class="stats">
        <text>总预约: {{item.total_reservations}}</text>
        <text>活跃预约: {{item.active_reservations}}</text>
        <text>已签到: {{item.checked_in}}</text>
        <text>缺席: {{item.absent}}</text>
        <text>取消: {{item.canceled}}</text>
        <text>上座率: {{item.occupancy_rate}}</text>
      </view>
    </view>
  </view>

  <!-- 加载状态 -->
  <view wx:if="{{loading}}" class="loading">加载中...</view>
  
  <!-- 无数据提示 -->
  <view wx:if="{{!loading && statistics.length === 0}}" class="no-data">
    <text>暂无统计数据</text>
  </view>
</view>
