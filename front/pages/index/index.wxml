<!--index.wxml-->
<navigation-bar title="班车预约" back="{{false}}" color="black" background="#FFF"></navigation-bar>

<view class="location-picker">
  <view class="location-display">
    <view class="location-item" bindtap="selectStartPoint">
      <text>起点</text>
      <text>{{startPoint || '武汉大学本部'}}</text>
    </view>
    <button class="swap-button" size="mini" bindtap="swapLocations">调换</button>
    <view class="location-item" bindtap="selectEndPoint">
      <text>终点</text>
      <text>{{endPoint || '网安基地'}}</text>
    </view>
  </view>
</view>

<scroll-view class="scrollarea" scroll-y type="list">
  <view class="container">
    <!-- 动态班次列表 -->
    <block wx:for="{{schedules}}" wx:key="id">
      <view class="schedule-item">
        <view class="time-area">
          <text>{{item.time}} 发车</text>
        </view>
        <view class="seats-area">
          <text>剩余座位: {{item.seats}}</text>
        </view>
        <view class="button-area">
          <button size="mini" bindtap="handleSchedule" id="{{item.schedule_id}}">{{item.isBooked ? '取消预约' : '预约'}}</button>
        </view>
      </view>
    </block>
  </view>
</scroll-view>
